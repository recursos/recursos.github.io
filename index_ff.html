---
layout: default
title: RTP Play extension (Firefox)
---
<div class="blurb">
	<h2>RTP Play extension (2021, Maio 06) no Firefox <img src="files_ff/firefox-icon.png"></h2>
	<p>Captura o link de "master.mdp" para com youyube-dl baixar e guardar localmente vídeos ou áudio servidos pela RTP Play
	</p>
</div><!-- /.blurb -->
<hr>
<div>Nota: a RTP Play parece estar a rever toda a implementação do <i>streaming</i>.<br>
	O que funciona hoje pode deixar de funcionar amanhã!<br>
	<hr>
	<br>
	Normalmente adiciona-se uma extensão ao browser (Chrome, Firefox, Opera etc.) indo ao Play Store da Google e clicando em "Instalar".
	<br>
	Este serviço é pago, ter a extensão no Play Store, custa € 5.
	<br>
	O processo grátis, que vai ser usado aqui, é "instalar <i>unpacked</i>".
	<br>
	(a partir do disco rígido do PC).
	<br>
	<h3>Passos a seguir: copiar os 4 ficheiros</h3>
	<br>
	<i>Um pedido de desculpas: o meu Windows está em english, e high-contrast.<br>
	Ter isto em conta quanto à terminologia e às cores das imagens.
	</i>

	<ul>
	<li>	Baixar estes 4 ficheiros, clicando em cada um:<br>
 <div style="width:80%; font-size: medium;">
  <div style="width:30%; float:left;"><a href="files/icon.png" download>icon.png</a> <br>
	<a href="files/manifest.json" download>manifest.json</a> <br>
	<a href="files/popup.html" download>popup.html</a> <br>
	<a href="files/rtp.js" download>rtp.js</a> <br></div>
  <div style="width:50%; float:right;">(<s>v1.07 &nbsp;v1.10 &nbsp;v1.11&nbsp;v1.12&nbsp;v1.15&nbsp;v1.17)</s>&nbsp;v1.18</div>
	 <div style="clear: both;"><br>
		 (na versão 1.18 créditos para ZWAME\@MaFiBoSS que deu a receita)<br>
		 Excepto icon.png são 3 ficheiros de texto visualisáveis com p.ex. Notepad.<br></div>
	 <br>
</div>


		</li>
		<li>
			Criar uma nova pasta, por exemplo <b>RTPplay</b>
			</li>
		<li>
			Mover os 4 ficheiros para dentro da nova pasta:<br>
			RTPplay<br>
			&ensp; icon.png<br>
			&ensp; manifest.json<br>
			&ensp; popup.html<br>
			&ensp; rtp.js<br>
			<br>
			exemplo:<br><br>
			<img src="files_ff/2021-02-20-4ficheiros.png"><br><br>	
		</li>
	</ul>
		<h3>Passos a seguir: instalar a extensão</h3>
	<img src="files/chrome-icon.png"> Google Chrome ou Opera etc. ir para <a href="index.html">esta página.</a><br>
	<img src="files_ff/firefox-icon.png">O <b>FireFox</b> tem algumas particularidades, continuar nesta página.<br>
	Foi testado na última versão do browser (86.0):<br><br>
	<img src = "files_ff/2021-02-26-ff-browser.png"><br><br>
	
	<ol><li>
		No canto sup. direito clicar (1) nos três tracinhos.</li>
		<li>
		No <i>drop down menu</i> clicar (2) en "Add-ons"<br><br>
		<img src = "files_ff/2021-02-26-ff-addons.png"><br><br></li>
		<li>No novo menu, clicar (3) na roda dentada<br>
		e de seguida em "Debug Add-ons" (4)<br><br>
			<img src = "files_ff/2021-02-26-ff-debug.png"><br><br></li>
		
		<li>Na página que se abre, clicar (5) em "Load Temporary Add-on",<br><br>
		<img src="files_ff/2021-02-26-ff-loadtemp.png"><br><br></li>
		<li>Escolher (6) a pasta com os 4 ficheiros "RTPplay",<br>
		Seleccionar um deles (7) (o diálogo diz para escolher "manifest.json"
			<br>mas parece que qualquer ficheiro serve)<br><br>
			<img src = "files_ff/2021-02-26-ff-open.png"><br><br>
		</li>
		<li>A extensão fica instalada (8):<br><br><br>
			<img src="files_ff/2021-02-26-ff-installed.png"><br><br>
		</li>
		<li>No caso do Firefox o icon vai logo para junto da barra de extensões (9):<br><br>
		<img src="files_ff/2021-02-26-ff-pinned.png"><br><br>
		</li>

		<li>A partir de agora, clicar (9) no icon <img src = "files_ff/icon.png"> e de seguida no botão "Download RTP" (10) que aparece, para correr a extensão<br><br>
		<img src = "files_ff/2021-02-26-ff-buttonrtp.png">
			<br><br>
			No diálogo "Save as..." que se abre, aceitar (ou alterar) (11) o nome sugerido:
			<br><br>
		<img src = "files_ff/2021-02-26-ff-save_as.png">
			<br><br>
		</li>
	</ol>
		<table border = "3" style="padding:10px"><tr><td>
		A extensão trabalha em conjunto com youtube-dl.<br>
		<br>O que ela faz é procurar na página RTP Play um link para o "master.mdp" utilizável por youtube-dl.
		A seguir, como usar em Windows 10<br>
		Supondo que youtube-dl está na pasta \Downloads.
			<ol>
		<li>Abrir uma janela de comandos ("command prompt" ou "CMD")<br>
			<img src = "files/2021-05-06-cmd.png">
				
				</li>

				<li>No browser, navegar para a página RTP Play desejada</li>
				<li>Clicar na extensão e clicar no botão "RTP captura"</li>
				<li><b>Surpresa!</b> parece que não aconteceu nada!</li>
				<li>De facto a extensão colocou no clipboard ("área de transferência") uma linha de comando</li>
				<li>Voltar a jánela de cmd</li>
				<li>Clicar com o botão direito do rato dentro da janela				</li>
				<li>A linha de comando aparece colada a seguir ao "prompt"<br>
				<img src = "files/2021-05-06-cmd-cmdline.png"></li>
				<li>Tecla ENTER para correr o comando<br>
				<img src = "files/2021-05-06-cmd-youtube-dl.png"></li>
		<li>Esperar que youtube-dl termine a tarefa (o browser pode ser fechado)</li>
	</ol>
		</td></tr></table>
		<hr>
		<br><br>A extensão só funciona em links https://www.rtp.pt/play/etc.<br><br>
			A partir da página "https://www.rtp.pt/play/programas",<br>
			testei (os não asinalados parecem OK):<br>
<pre>
RTP Desporto
RTP1
RTP2
TP3
RTPi América
RTPi Ásia
Academia RTP
RTP Internacional
Originais RTP Play
RTP Lab
RTP Criativa ........... Não tem nada?
RTP Memória
RTP Madeira
RTP Açores
RTP África
Zig Zag
Estudo Em Casa

Antena1
Antena2
Antena3
Rádio Zig Zag
RDP Internacional
RDP África
Antena1 Açores
Antena1 Madeira
Antena3 Madeira

</pre>
			Na maior parte a extensão funciona, nalguns casos a implementação do <i>streaming</i> mudou e a captura do URL do vídeo falha.
			<br>
			Mas como a RTP Play está sempre em obras, à medida que a ferramenta deixar de funcionar, p.f. avisem e juntem o link da página em falta.<br>
			Obrigado pela vossa atenção!
			<br>
			<b>Rec</b>
	</ol>
</div>
